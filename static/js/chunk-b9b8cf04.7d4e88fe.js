(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b9b8cf04"],{2128:function(t,e,n){},3123:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("b775");function o(){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/upload/token",method:"get"})}},"43a7":function(t,e,n){"use strict";n("2128")},"7ef3":function(t,e,n){},b895:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-content"},[n("div",{staticClass:"left-container"},[n("el-menu",{staticStyle:{"margin-bottom":"20px"},attrs:{"default-active":"3",mode:"horizontal",router:""}},[n("el-menu-item",{attrs:{index:"1",route:{path:"/platform/mer/index"}}},[t._v("活动设置(商家使用数量)")]),n("el-menu-item",{attrs:{index:"2",route:{path:"/platform/mer/banner/index"}}},[t._v("首页banner")]),n("el-menu-item",{attrs:{index:"3",route:{path:"/platform/mer/banner/edit/"+t.id}}},[t._v("编辑banner")])],1),n("el-row",[n("el-form",{ref:"form",attrs:{rules:t.rules,model:t.bannerForm,"label-width":"100px",size:"small"}},[n("el-form-item",{attrs:{label:"banner",prop:"imgUrl"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{data:t.dataObj,multiple:!1,action:"http://upload-z2.qiniup.com","show-file-list":!1,"on-success":t.handleSuccess,"on-preview":t.handlePicturePreview,"on-remove":t.handleRemove,"before-upload":t.beforeUpload}},[t.bannerForm.imgUrl?n("img",{staticClass:"avatar",attrs:{src:t.bannerForm.imgUrl}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"url",prop:"url"}},[n("el-input",{model:{value:t.bannerForm.url,callback:function(e){t.$set(t.bannerForm,"url",e)},expression:"bannerForm.url"}})],1),n("el-form-item",{attrs:{label:"描述",prop:"desc"}},[n("el-input",{attrs:{maxlength:"",type:"textarea",rows:2,placeholder:"描述"},model:{value:t.bannerForm.desc,callback:function(e){t.$set(t.bannerForm,"desc",e)},expression:"bannerForm.desc"}})],1),n("el-form-item",{attrs:{label:"权重",prop:"weight"}},[n("el-input",{model:{value:t.bannerForm.weight,callback:function(e){t.$set(t.bannerForm,"weight",e)},expression:"bannerForm.weight"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t._v("立即添加")]),n("el-button",[t._v("取消")])],1)],1)],1)],1)])},o=[],i=(n("d3b7"),n("159b"),n("b64b"),n("ca41")),a=n("3123"),u={name:"EditAdviser",data:function(){return{id:"",bannerForm:{id:"",desc:"",url:"",imgUrl:"",weight:0},rules:{},dataObj:{token:""},loading:!1}},created:function(){this.id=this.$route.params&&this.$route.params.id,this.fetchData(),this.fetchToken()},methods:{fetchData:function(){var t=this;Object(i["m"])(this.id).then((function(e){Object.keys(t.counselorForm).forEach((function(n){t.counselorForm[n]=e.data[n]}))}))},onSubmit:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0})),console.log("submit!")},beforeUpload:function(t){t.type;var e=t.size/1024/1024<20;return e||this.$message.error("上传图片大小不能超过 20MB!"),e},fetchToken:function(){var t=this;return new Promise((function(e,n){Object(a["a"])().then((function(n){var r=n.data;t._data.dataObj.token=r,e(!0)})).catch((function(t){console.log(t),n(!1)}))}))},handleRemove:function(t,e){console.log(t,e)},handleSuccess:function(t,e){this.bannerForm.imgUrl="https://ttz-user-file.qiniu.tuantuanzhan.cn/"+t.key},handlePicturePreview:function(){console.log()}}},c=u,s=(n("43a7"),n("f652"),n("2877")),d=Object(s["a"])(c,r,o,!1,null,"0c89edc9",null);e["default"]=d.exports},ca41:function(t,e,n){"use strict";n.d(e,"q",(function(){return o})),n.d(e,"i",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"v",(function(){return s})),n.d(e,"l",(function(){return d})),n.d(e,"j",(function(){return l})),n.d(e,"n",(function(){return m})),n.d(e,"s",(function(){return f})),n.d(e,"t",(function(){return p})),n.d(e,"k",(function(){return h})),n.d(e,"p",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"u",(function(){return y})),n.d(e,"d",(function(){return O})),n.d(e,"o",(function(){return _})),n.d(e,"g",(function(){return g})),n.d(e,"b",(function(){return A})),n.d(e,"e",(function(){return E})),n.d(e,"m",(function(){return j})),n.d(e,"r",(function(){return P})),n.d(e,"w",(function(){return U})),n.d(e,"x",(function(){return I}));n("e9c4"),n("b64b");var r=n("b775");function o(t,e){return Object(r["a"])({url:"/system/management/activity/getSpecialActivity?size="+t.size+"&current="+t.current,method:"post",data:e,headers:{"Content-Type":"application/json"},transformRequest:[function(t,e){for(var n in t)""===t[n]&&delete t[n];return t=JSON.stringify(t),t}]})}function i(t,e){return Object(r["a"])({url:"/system/activity/getActivityScheme?size="+t.size+"&current="+t.current,method:"post",data:e,headers:{"Content-Type":"application/json"},transformRequest:[function(t,e){for(var n in t)""===t[n]&&delete t[n];return t=JSON.stringify(t),t}]})}function a(t){return Object(r["a"])({url:"/system/activity/addActivityScheme",method:"post",data:t,transformRequest:[function(t){console.log(t);var e=Object.keys(t).length,n=0,r="";for(var o in t)r+=encodeURIComponent(o)+"="+encodeURIComponent(t[o]),n<e-1&&(r+="&",n++);return r}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function u(t){return Object(r["a"])({url:"/system/activity/getActivitySchemeInfo",method:"get",params:{schemeId:t}})}function c(t){return Object(r["a"])({url:"/system/activity/deleteScheme",method:"delete",params:{schemeId:t}})}function s(t){return Object(r["a"])({url:"/system/activity/updateActivityScheme",method:"post",data:t,transformRequest:[function(t){console.log(t);var e=Object.keys(t).length,n=0,r="";for(var o in t)r+=encodeURIComponent(o)+"="+encodeURIComponent(t[o]),n<e-1&&(r+="&",n++);return r}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function d(t,e){return Object(r["a"])({url:"/system/activity/getActivitys",method:"post",params:t,data:e,headers:{"Content-Type":"application/json"},transformRequest:[function(t,e){for(var n in t)""===t[n]&&delete t[n];return t=JSON.stringify(t),t}]})}function l(t){return Object(r["a"])({url:"/system/activity/getActivityInfo",method:"post",params:{id:t}})}function m(t,e){return Object(r["a"])({url:"/system/activity/getCouponActivityList",method:"post",params:t,data:e,headers:{"Content-Type":"application/json"},transformRequest:[function(t,e){for(var n in t)""===t[n]&&delete t[n];return t=JSON.stringify(t),t}]})}function f(t){return Object(r["a"])({url:"/system/management/activity/setActivityWithGoodOrRecommend",method:"post",params:t})}function p(t){return Object(r["a"])({url:"/system/management/setWeight",method:"get",params:t})}function h(t,e){return Object(r["a"])({url:"/system/activity/getActivityOptions",method:"post",params:t,data:e,headers:{"Content-Type":"application/json"},transformRequest:[function(t,e){for(var n in t)""===t[n]&&delete t[n];return t=JSON.stringify(t),t}]})}function b(){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/activity/config/require/column",method:"get"})}function v(t){return Object(r["a"])({url:"/api/v1/activity/common/create",method:"post",data:t,headers:{loginToken:"adminLoginToken"}})}function y(t){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/activity/common/update",method:"post",data:t,headers:{loginToken:"adminLoginToken"}})}function O(t){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/activity/common/deleteActivityById/"+t,method:"delete",headers:{loginToken:"adminLoginToken"}})}function _(){return Object(r["a"])({url:"/system/activity/getJoinCount",method:"get"})}function g(t){return Object(r["a"])({url:"/system/scheme/adviser/pageAdvisers",method:"get",params:t})}function A(t){return Object(r["a"])({url:"/system/scheme/adviser/addOrUpdate",method:"post",data:t})}function E(t){return Object(r["a"])({url:"/system/scheme/adviser/delete/"+t,method:"get"})}function j(t){return Object(r["a"])({url:"/system/scheme/adviser/get/"+t,method:"get"})}function P(t){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/order/vote/queryOrderVoteByVoteGroupId",method:"get",params:t})}function U(t){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/order/vote/updateOrderVoteBy",method:"post",data:t,headers:{"Content-Type":"application/json"}})}function I(t){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/order/vote/hide/"+t,method:"get"})}},f652:function(t,e,n){"use strict";n("7ef3")}}]);