(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a87c689"],{3123:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("b775");function o(){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/upload/token",method:"get"})}},5168:function(e,t,n){},"584a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-content"},[n("div",{staticClass:"left-container"},[n("el-menu",{staticStyle:{"margin-bottom":"20px"},attrs:{"default-active":"2",mode:"horizontal",router:""}},[n("el-menu-item",{attrs:{index:"1",route:{path:"/fangan/counselor/index"}}},[e._v("列表")]),n("el-menu-item",{attrs:{index:"2",route:{path:"/fangan/counselor/create"}}},[e._v("添加顾问")])],1),n("el-row",[n("el-form",{ref:"form",attrs:{rules:e.rules,model:e.counselorForm,"label-width":"100px",size:"small"}},[n("el-form-item",{attrs:{label:"头像",prop:"icon"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{data:e.dataObj,multiple:!1,action:"http://upload-z2.qiniup.com","show-file-list":!1,"on-success":e.handleSuccess,"on-preview":e.handlePicturePreview,"on-remove":e.handleRemove,"before-upload":e.beforeUpload}},[e.counselorForm.icon?n("img",{staticClass:"avatar",attrs:{src:e.counselorForm.icon}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"名称",prop:"name"}},[n("el-input",{model:{value:e.counselorForm.name,callback:function(t){e.$set(e.counselorForm,"name",t)},expression:"counselorForm.name"}})],1),n("el-form-item",{attrs:{label:"二维码",prop:"qrCode"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{data:e.dataObj,multiple:!1,action:"http://upload-z2.qiniup.com","show-file-list":!1,"on-success":e.handleSuccess1,"on-preview":e.handlePicturePreview1,"on-remove":e.handleRemove1,"before-upload":e.beforeUpload}},[e.counselorForm.qrCode?n("img",{staticClass:"avatar",attrs:{src:e.counselorForm.qrCode}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"问候语",prop:"greeting"}},[n("el-input",{attrs:{maxlength:"",type:"textarea",rows:2,placeholder:"问候语"},model:{value:e.counselorForm.greeting,callback:function(t){e.$set(e.counselorForm,"greeting",t)},expression:"counselorForm.greeting"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.onSubmit(t)}}},[e._v("立即添加")]),n("el-button",[e._v("取消")])],1)],1)],1)],1)])},o=[],a=(n("d3b7"),n("ca41")),i=n("3123"),u={name:"CreateAdviser",components:{},data:function(){return{counselorForm:{greeting:"",name:"",icon:"",qrCode:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],icon:[{required:!0,message:"请上传头像",trigger:"change"}],qrCode:[{required:!0,message:"请上传二维码",trigger:"change"}]},dataObj:{token:""},loading:!1}},created:function(){this.fetchToken()},methods:{onSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,Object(a["b"])(e.counselorForm).then((function(t){1*t.code==200?(e.$message({message:"创建成功",type:"success"}),setTimeout((function(){e.$router.push({path:"/fangan/counselor/index"})}),1500)):e.$message({message:t.msg,type:"error"}),e.loading=!1}))})),console.log("submit!")},beforeUpload:function(e){e.type;var t=e.size/1024/1024<20;return t||this.$message.error("上传图片大小不能超过 20MB!"),t},fetchToken:function(){var e=this;return new Promise((function(t,n){Object(i["a"])().then((function(n){var r=n.data;e._data.dataObj.token=r,t(!0)})).catch((function(e){console.log(e),n(!1)}))}))},handleRemove:function(e,t){console.log(e,t)},handleSuccess:function(e,t){this.counselorForm.icon="https://ttz-user-file.qiniu.tuantuanzhan.cn/"+e.key},handlePicturePreview:function(){console.log()},handleSuccess1:function(e,t){this.counselorForm.qrCode="https://ttz-user-file.qiniu.tuantuanzhan.cn/"+e.key},handlePicturePreview1:function(){console.log()},handleRemove1:function(e,t){console.log(e,t)}}},c=u,s=(n("7e2a"),n("ffee"),n("2877")),d=Object(s["a"])(c,r,o,!1,null,"305049d4",null);t["default"]=d.exports},"7e2a":function(e,t,n){"use strict";n("5168")},8477:function(e,t,n){},ca41:function(e,t,n){"use strict";n.d(t,"q",(function(){return o})),n.d(t,"i",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"v",(function(){return s})),n.d(t,"l",(function(){return d})),n.d(t,"j",(function(){return l})),n.d(t,"n",(function(){return m})),n.d(t,"s",(function(){return p})),n.d(t,"t",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"p",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"u",(function(){return y})),n.d(t,"d",(function(){return b})),n.d(t,"o",(function(){return O})),n.d(t,"g",(function(){return _})),n.d(t,"b",(function(){return A})),n.d(t,"e",(function(){return P})),n.d(t,"m",(function(){return E})),n.d(t,"r",(function(){return j})),n.d(t,"w",(function(){return C})),n.d(t,"x",(function(){return U}));n("e9c4"),n("b64b");var r=n("b775");function o(e,t){return Object(r["a"])({url:"/system/management/activity/getSpecialActivity?size="+e.size+"&current="+e.current,method:"post",data:t,headers:{"Content-Type":"application/json"},transformRequest:[function(e,t){for(var n in e)""===e[n]&&delete e[n];return e=JSON.stringify(e),e}]})}function a(e,t){return Object(r["a"])({url:"/system/activity/getActivityScheme?size="+e.size+"&current="+e.current,method:"post",data:t,headers:{"Content-Type":"application/json"},transformRequest:[function(e,t){for(var n in e)""===e[n]&&delete e[n];return e=JSON.stringify(e),e}]})}function i(e){return Object(r["a"])({url:"/system/activity/addActivityScheme",method:"post",data:e,transformRequest:[function(e){console.log(e);var t=Object.keys(e).length,n=0,r="";for(var o in e)r+=encodeURIComponent(o)+"="+encodeURIComponent(e[o]),n<t-1&&(r+="&",n++);return r}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function u(e){return Object(r["a"])({url:"/system/activity/getActivitySchemeInfo",method:"get",params:{schemeId:e}})}function c(e){return Object(r["a"])({url:"/system/activity/deleteScheme",method:"delete",params:{schemeId:e}})}function s(e){return Object(r["a"])({url:"/system/activity/updateActivityScheme",method:"post",data:e,transformRequest:[function(e){console.log(e);var t=Object.keys(e).length,n=0,r="";for(var o in e)r+=encodeURIComponent(o)+"="+encodeURIComponent(e[o]),n<t-1&&(r+="&",n++);return r}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function d(e,t){return Object(r["a"])({url:"/system/activity/getActivitys",method:"post",params:e,data:t,headers:{"Content-Type":"application/json"},transformRequest:[function(e,t){for(var n in e)""===e[n]&&delete e[n];return e=JSON.stringify(e),e}]})}function l(e){return Object(r["a"])({url:"/system/activity/getActivityInfo",method:"post",params:{id:e}})}function m(e,t){return Object(r["a"])({url:"/system/activity/getCouponActivityList",method:"post",params:e,data:t,headers:{"Content-Type":"application/json"},transformRequest:[function(e,t){for(var n in e)""===e[n]&&delete e[n];return e=JSON.stringify(e),e}]})}function p(e){return Object(r["a"])({url:"/system/management/activity/setActivityWithGoodOrRecommend",method:"post",params:e})}function f(e){return Object(r["a"])({url:"/system/management/setWeight",method:"get",params:e})}function h(e,t){return Object(r["a"])({url:"/system/activity/getActivityOptions",method:"post",params:e,data:t,headers:{"Content-Type":"application/json"},transformRequest:[function(e,t){for(var n in e)""===e[n]&&delete e[n];return e=JSON.stringify(e),e}]})}function v(){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/activity/config/require/column",method:"get"})}function g(e){return Object(r["a"])({url:"/api/v1/activity/common/create",method:"post",data:e,headers:{loginToken:"adminLoginToken"}})}function y(e){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/activity/common/update",method:"post",data:e,headers:{loginToken:"adminLoginToken"}})}function b(e){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/activity/common/deleteActivityById/"+e,method:"delete",headers:{loginToken:"adminLoginToken"}})}function O(){return Object(r["a"])({url:"/system/activity/getJoinCount",method:"get"})}function _(e){return Object(r["a"])({url:"/system/scheme/adviser/pageAdvisers",method:"get",params:e})}function A(e){return Object(r["a"])({url:"/system/scheme/adviser/addOrUpdate",method:"post",data:e})}function P(e){return Object(r["a"])({url:"/system/scheme/adviser/delete/"+e,method:"get"})}function E(e){return Object(r["a"])({url:"/system/scheme/adviser/get/"+e,method:"get"})}function j(e){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/order/vote/queryOrderVoteByVoteGroupId",method:"get",params:e})}function C(e){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/order/vote/updateOrderVoteBy",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function U(e){return Object(r["a"])({url:Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/dash-ui/"}).VUE_APP_XIAOCHENGXU_API+"/api/v1/order/vote/hide/"+e,method:"get"})}},ffee:function(e,t,n){"use strict";n("8477")}}]);